(()=>{var e={};function t(t){document.querySelectorAll(".ftoken-field-key").forEach((t=>{function o(){if(t.form.querySelectorAll("[type=submit]").forEach((e=>{e.disabled=!0})),clearTimeout(e[t.dataset.ftokenid]),""!==t.value.trim()){let n=document.getElementById(t.dataset.ftokenid),d=n.dataset.url+"/"+CryptoJS.SHA256(t.value).toString()+"/"+t.dataset.ftokenid+"/"+t.form.id;neutral_fetch(n,d,n.dataset.wrap),e[t.dataset.ftokenid]=setTimeout((()=>{o()}),1e3*FTOKEN_EXPIRES_SECONDS-2e3)}}t.classList.remove("ftoken-field-key"),t.addEventListener("change",o),o()}))}function o(e){document.querySelectorAll(".ftoken-field-ftoken").forEach((e=>{e.classList.remove("ftoken-field-ftoken");let t=document.getElementById(e.dataset.formid);""!==t.querySelector(".ftoken-field-value").value.trim()&&t.querySelectorAll("[type=submit]").forEach((e=>{e.disabled=!1}))}))}function n(){document.querySelectorAll("[data-ftoken-onfocus-reset]").forEach((e=>{e.addEventListener("focus",(function(){const e=this.dataset.ftokenOnfocusReset,t=document.getElementById(e);t&&(t.checked=!1)}))})),document.querySelectorAll("[data-ftoken-onclick-remove]").forEach((e=>{e.addEventListener("click",(function(){const e=this.dataset.ftokenOnclickRemove,t=document.getElementById(e);t&&t.remove()}))}))}window.addEventListener("load",(e=>{o(),t(),n()})),window.addEventListener("neutralFetchCompleted",(e=>{o(),t(),n()}))})();